<% uri = URI.parse(source["url"]) %>
<%= source %>
<% addr = "//logo.clearbit.com/" + uri.to_s[/https?:\/\/(www.)?.+.(com|net|co.uk|\w{2}\/)/] %>


<!-- <div class="publication-card mdl-shadow--4dp" style="background: url(<%#= addr %>) center no-repeat">
  <label class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="icon-toggle-<%#= source["id"] %>">
  <input type="checkbox" id="icon-toggle-<%#= source["id"] %>" name="<%#= source["id"] %>" class="mdl-icon-toggle__input">
  <i class="mdl-icon-toggle__label material-icons">star</i>
</label> -->

<!-- Event card -->
<style>
.demo-card-event.mdl-card {
  width: 256px;
  height: 256px;
  background: white;
  margin: 10px;
  align-items: center;
  margin-top: 20px;
}
.demo-card-event > .mdl-card__actions {
  border-color: rgba(255, 255, 255, 0.2);
}
.demo-card-event > .mdl-card__title {
  align-items: flex-start;
}
.demo-card-event > .mdl-card__title > h4 {
  margin-top: 0;
}
.demo-card-event > .mdl-card__actions {
  display: flex;
  box-sizing:border-box;
  align-items: center;
}
.demo-card-event > .mdl-card__actions > .material-icons {
  padding-right: 10px;
}
.demo-card-event > .mdl-card__title,
.demo-card-event > .mdl-card__actions,
.demo-card-event > .mdl-card__actions > .mdl-button {
  color: #333333;
}
.mdl-card__title {
  color: #333333!important;
  font-weight: bold;
}
.center {
  width:100%;
  height:100%;
}
</style>

<div class="demo-card-event mdl-card mdl-shadow--2dp" >
  <div class="center" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= addr %>) center / cover">
  <div class="mdl-card__title mdl-card--expand">
    <h4>
      <%= source["name"] %><br>
    </h4>
  </div>
  </div>
  <div class="mdl-card__actions mdl-card--border">
    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
      Add to Favorites
    </a>
    <div class="mdl-layout-spacer"></div>
    <label class="mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect" for="icon-toggle-<%= source["id"] %>">
    <input type="checkbox" id="icon-toggle-<%= source["id"] %>" name="<%= source["id"] %>" class="mdl-icon-toggle__input">
    <i class="mdl-icon-toggle__label material-icons">star</i>
</label>
  </div>
</div>
