<%# uri = URI.parse(source["url"]) %>

<%# addr = "//logo.clearbit.com/#{uri.to_s[/https?:\/\/(www.)?.+.(com|net|co.uk|\w{2}\/)/]}" %>


<style>
.demo-card-event.mdl-card {
  width: 230px;
  height: 370px;
  background: white;
  margin: 10px;
  align-items: center;
  margin-top: 20px;
}
.demo-card-event > .mdl-card__actions {
  border-color: rgba(255, 255, 255, 0.2);
}
.demo-card-event > .mdl-card__title {
  align-items: flex-start;
}
.demo-card-event > .mdl-card__title > h4 {
  margin-top: 0;
}
.demo-card-event > .mdl-card__actions {
  display: flex;
  box-sizing:border-box;
  align-items: center;
}
.demo-card-event > .mdl-card__actions > .material-icons {
  padding-right: 10px;
}
.demo-card-event > .mdl-card__title,
.demo-card-event > .mdl-card__actions,
.demo-card-event > .mdl-card__actions > .mdl-button {
  color: #333333;
}
.mdl-card__title {
  color: #333333!important;
  font-weight: bold;
}

.background-center {
  width:100%;
  height:100%;
  background-size: 100% 100%;
  filter: sepia(30%);
}
.mdl-icon-toggle__label.material-icons {
    font-size: 85px;
    top: 147px;
    left: 88px;
    color: #F9F9F9;
}
.mdl-button--colored {
  color: #333333 !important;
}
.mdl-icon-toggle.is-checked .mdl-icon-toggle__label{
  color: black !important;
}
.opacity label {
  background-color: rgba(93, 168, 239, 0.9);
  height: 100%;
}
.mdl-icon-toggle {
 transition: 0.5s all ease-in;
}


</style>


<% asset_present = Dir.glob('app/assets/images/cover-images/*').any? {|path| path.include?(source)} %>
<% asset_name = asset_present ? "cover-images/#{source}.jpg" : "cover-images/default.jpg" %>

<% sourceid = source.tr('-','') %>
<% sourcename = source.gsub('-',' ') %>
<% sourcename = sourcename.split.map(&:capitalize).join(' ') %>

<div class="demo-card-event mdl-card mdl-shadow--2dp" id="<%= sourceid %>">
    <div class="background-center" style="background-image: linear-gradient(rgba(0,0,0,0.15), rgba(0,0,0,0.15)), url('<%= image_path(asset_name) %>')">
    <div class="opacity">
       <label class="mdl-icon-toggle mdl-js-icon-toggle " for="icon-toggle-<%= source %>">
      <input type="checkbox" id="icon-toggle-<%= source %>" name="<%= source %>" class="mdl-icon-toggle__input">
      <i class="mdl-icon-toggle__label material-icons">check</i>
    </label>
    </div>
  </div>

<!--   <div class="mdl-card__actions mdl-card--border">
    <% source.gsub!('-',' ') %>
    <%= source.split.map(&:capitalize).join(' ')
 %>

  </div> -->
</div>
  <div class="mdl-tooltip" data-mdl-for="<%= sourceid %>" style="font-size: 14px;">
<%= sourcename %>
</div>
